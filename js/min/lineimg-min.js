function Anim(e){this.opt=e}function setText(e,n,i,t,l,o,m,r,s,a,d,c,w,u){setTimeout(function(){var t=0,g=setInterval(function(){t++;var i=t/30;.3===i&&clearInterval(g),n.draw(e),s.txt(i,o,l,m,r),s.img(i,a,d,c,w,u),console.log(t,i,g)},i)},t)}function setTime(e,n,i,t){setTimeout(function(){var t=0,l=setInterval(function(){t++;var i=t/30;.3===i&&clearInterval(l),n.draw(e)},i)},t)}$(window).bind("scroll",function(e){var n=parseInt($(window).height())+parseInt($(window).scrollTop()),i=parseInt($(window).scrollTop()),t=parseInt($("#gameContainer").offset().top);if(t>=i&&t<=n){line1.draw(time1),line4.draw(time4),line6.draw(time6),line9.draw(time9),line12.draw(time12),setTime(time2,line2,10,1100),setTime(time7,line7,10,1200),setTime(time10,line10,10,1400),setTime(time13,line13,10,1400);var l=new Anim;setText(time3,line3,100,2800,"情感陪伴",18,150,195,l,"http://or5y02dsh.bkt.clouddn.com/images/front/imgRbt/8.png",20,210,210,60);var o=new Anim;setText(time5,line5,100,1e3,"信息查询",18,150,385,o,"http://or5y02dsh.bkt.clouddn.com/images/front/imgRbt/10.png",20,400,210,40);var m=new Anim;setText(time8,line8,10,2500,"头脑容量",18,610,125,m,"http://or5y02dsh.bkt.clouddn.com/images/front/imgRbt/2.png",610,140,210,40);var r=new Anim;setText(time11,line11,100,2e3,"3D立体交互",18,680,295,r,"http://or5y02dsh.bkt.clouddn.com/images/front/imgRbt/4.png",680,310,210,40);var s=new Anim;setText(time14,line14,100,2600,"成长能力",18,700,460,s,"http://or5y02dsh.bkt.clouddn.com/images/front/imgRbt/6.png",700,475,210,60),$(window).unbind("scroll")}});var time1,time2,time3,time4,time5,time6,time7,time8,time9,time10,time11,time12,time13,time14,lin=document.getElementById("line"),line=lin.getContext("2d");lin.width=880,lin.height=600,Anim.prototype.draw=function(e){var n=this.opt,i=n.staX,t=n.staY,l={x:n.staX,y:n.staY};e=setInterval(function(){n.direc?n.len>t?t+=n.num:t-=n.num:n.len>i?i+=n.num:i-=n.num,i!=n.len&&t!=n.len||clearInterval(e),n.Node.beginPath(),n.Node.moveTo(l.x,l.y),n.Node.lineTo(i,t),n.Node.lineWidth=n.lw||1,n.Node.strokeStyle=n.color,n.Node.stroke()},n.timing)},Anim.prototype.txt=function(e,n,i,t,l){line.beginPath(),line.fillStyle="rgba(255,255,255,"+e+")",line.font=n+"px bold 黑体 ",line.fillText(i,t,l)},Anim.prototype.img=function(e,n,i,t,l,o){var m=new Image;m.src=n,line.fillStyle="rgba(255,255,255,"+e+")",line.drawImage(m,i,t,l,o)};var line1=new Anim({Node:line,color:"skyblue",staX:350,staY:305,len:320,timing:20,num:2,direc:!1,lw:4}),line2=new Anim({Node:line,color:"skyblue",staX:320,staY:305,len:190,timing:20,num:2,direc:!0,lw:4}),line3=new Anim({Node:line,color:"skyblue",staX:320,staY:190,len:250,timing:20,num:2,direc:!1,lw:4}),line4=new Anim({Node:line,color:"skyblue",staX:340,staY:420,len:380,timing:20,num:2,direc:!0,lw:4}),line5=new Anim({Node:line,color:"skyblue",staX:340,staY:380,len:250,timing:20,num:2,direc:!1,lw:4}),line6=new Anim({Node:line,color:"skyblue",staX:520,staY:240,len:555,timing:20,num:2,direc:!1,lw:4}),line7=new Anim({Node:line,color:"skyblue",staX:555,staY:240,len:120,timing:20,num:2,direc:!0,lw:4}),line8=new Anim({Node:line,color:"skyblue",staX:555,staY:120,len:595,timing:20,num:2,direc:!1,lw:4}),line9=new Anim({Node:line,color:"skyblue",staX:520,staY:350,len:580,timing:20,num:2,direc:!1,lw:4}),line10=new Anim({Node:line,color:"skyblue",staX:580,staY:350,len:290,timing:20,num:2,direc:!0,lw:4}),line11=new Anim({Node:line,color:"skyblue",staX:580,staY:290,len:660,timing:20,num:2,direc:!1,lw:4}),line12=new Anim({Node:line,color:"skyblue",staX:540,staY:420,len:610,timing:20,num:2,direc:!1,lw:4}),line13=new Anim({Node:line,color:"skyblue",staX:610,staY:420,len:460,timing:20,num:2,direc:!0,lw:4}),line14=new Anim({Node:line,color:"skyblue",staX:610,staY:460,len:680,timing:20,num:2,direc:!1,lw:4});